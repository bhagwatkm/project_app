<% if projects.any? %>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <% projects.each do |project| %>
      <div class="bg-white border border-indigo-100 shadow-md rounded-lg p-5 flex flex-col justify-between hover:shadow-lg transition">
        <div>
          <h3 class="text-xl font-semibold text-indigo-800 mb-2 flex items-center gap-2">
            <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="2"/></svg>
            <%= project.name %>
          </h3>
          <p class="text-gray-600 mb-2"><%= project.description %></p>
          <p class="text-sm text-gray-400 mb-4">Status: <span class="font-medium text-indigo-600"><%= project.status.try(:titleize) %></span></p>
        </div>
        <div class="flex flex-wrap gap-2 mt-2">

          <%= link_to edit_organization_project_path(@organization, project), class: "px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition font-medium flex items-center gap-1", title: "Edit Project" do %>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M15.232 5.232l3.536 3.536M9 13l6-6 3 3-6 6z"></path><path d="M16 7l-1.5-1.5a2.121 2.121 0 00-3 0l-7.5 7.5V17h3.5l7.5-7.5z"></path></svg>
            Edit
          <% end %>
          <%= button_to organization_project_path(@organization, project), method: :delete, data: { confirm: "Are you sure you want to delete this project?" }, class: "px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition font-medium flex items-center gap-1", title: "Delete Project" do %>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M6 18L18 6M6 6l12 12"></path></svg>
            Delete
          <% end %>
          <%= link_to clone_organization_project_path(@organization, project), method: :post, class: "px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition font-medium flex items-center gap-1", title: "Clone Project", data: { turbo: false } do %>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2"/><rect x="2" y="2" width="13" height="13" rx="2"/></svg>
            Clone
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
  <div class="mt-8 flex justify-center">
    <%= will_paginate projects, class: 'pagination flex space-x-2' %>
  </div>
<% else %>
  <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-6 rounded">
    <p class="text-yellow-700">No projects found for this organization.</p>
  </div>
<% end %>