<% if notice %>
  <div class="mb-4 p-3 rounded bg-green-100 text-green-800 border border-green-200">
    <%= notice %>
  </div>
<% end %>

<% if alert %>
  <div class="mb-4 p-3 rounded bg-red-100 text-red-800 border border-red-200">
    <%= alert %>
  </div>
<% end %>

<% content_for :title, "Members" %>

<h1 class="text-3xl font-bold mb-6 text-gray-800">Members</h1>

<div class="overflow-x-auto">
  <table class="min-w-full bg-white shadow rounded-lg">
    <thead>
      <tr>
        <th class="px-6 py-3 border-b-2 border-gray-200 bg-gray-50 text-left text-xs font-semibold text-gray-600 uppercase">Username</th>
        <th class="px-6 py-3 border-b-2 border-gray-200 bg-gray-50 text-left text-xs font-semibold text-gray-600 uppercase">Email</th>
        <th class="px-6 py-3 border-b-2 border-gray-200 bg-gray-50 text-left text-xs font-semibold text-gray-600 uppercase">Role</th>
        <th class="px-6 py-3 border-b-2 border-gray-200 bg-gray-50 text-left text-xs font-semibold text-gray-600 uppercase">Joined</th>
        <th class="px-6 py-3 border-b-2 border-gray-200 bg-gray-50 text-left text-xs font-semibold text-gray-600 uppercase">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @user_organizations.each do |user_organization| %>
        <tr class="hover:bg-gray-50">
          <td class="px-6 py-4 border-b border-gray-200"><%= user_organization.user.name %></td>
          <td class="px-6 py-4 border-b border-gray-200"><%= user_organization.user.email %></td>
          <td class="px-6 py-4 border-b border-gray-200"><%= user_organization.role.titleize %></td>
          <td class="px-6 py-4 border-b border-gray-200"><%= user_organization.created_at.strftime("%b %d, %Y") %></td>
          <td class="px-6 py-4 border-b border-gray-200">
            <div class="flex gap-2">
              <%= link_to "Edit", edit_organization_user_organization_path(user_organization.organization_id,user_organization.id), class: "px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs" %>
              <%= button_to "Delete", organization_user_organization_path(user_organization.organization_id,user_organization.id), method: :delete, data: { confirm: "Are you sure?" }, class: "px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs" %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="mt-8">
  <%= link_to "New Member", new_organization_user_organization_path, class: "px-6 py-3 bg-green-600 text-white font-semibold rounded shadow hover:bg-green-700 transition" %>
</div>